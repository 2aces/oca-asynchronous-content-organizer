# Changelog
Theme Name:  OCA - Asynchronous Content Organizer
Description: Allows code savvy users to asynchronously inject content generated by WordPress functions on front-end using Ajax
Version:     0.4.1
Author:      2Aces Conteúdo
Author URI:  https://2aces.com.br
License:     GPL-2.0+
License URI: http://www.gnu.org/licenses/gpl-2.0.txt

All notable changes to this project will be documented in this file.
This project adheres to [Semantic Versioning](http://semver.org/)

## TODO

### Roadmap

- user status cache management
- security, sanitization and validation
	- php
	- js
- drop jquery
	- use chris ferdinandi atomic or other library
- better front end caching (maybe use Mozilla Forage)
- better "loading content" placeholder/behavior
	- early loading if localStorage is supporte or maybe use Web Worker / Service Workder
		- https://addyosmani.com/basket.js/
		- https://www.smashingmagazine.com/2016/02/making-a-service-worker/
		-http://humaan.com/localstorage-is-for-fun/
- Delay after trigger
- Response type option: JSON using wp_send_json, and wp_send_json_sucess and wp_send_json_error
- queue behavior: async / sequential (with/without delay)
- improve security, sanitization and validation
	- php
	- js
- different triggers (download, click, etc)
	- manage which function is already being fetched, to avoid multiple clicks in the same button to load the same content over and over
- remove unnecessary variables and methods
- improve logic / pseudo refactor
	- find alternative to use global
	- improve error handling
		- backend
		- frontend (including timeout)
	- improve call back (maybe http://stackoverflow.com/a/4351575/3594287 )
	- improve localStorage usage
- javascript localization
- improve documentation
- refactor / code improvement
- modular architecture / addons
	- Possible Addons
		- WordPress loops (like twenty-seventeen, twenty-sixteen, etc)
		- WordPress common content functions (tag cloud, standard widgets, categories list, etc)
		- Genesis loop (e outras funções Genesis como secondary menu?)
		- aWoocomerce (e.g shop, shortcodes, loops, upsell, cross-sell)
		- Logged in contente (change menu, change sidebar, widgets,etc)
		- Membership plugins support

## [0.5.1] - 2018-04-03

### Added
- Added Filter and Oca Status CSS classes to documentation
- bypassed jobs now adds a css status class to the container (.bypass)

### Changed
- Roadmap in CHANGELOG.md

### Fixed
- Changelog inside README.txt

## [0.5.0] - 2018-04-03

### Added
- README.md
- README.txt
- OCA_SECURE_MODE constant. When on, all output goes through wp_kses
- 3 new filters: Oca/Content_Fetcher/Fetcher_Response and Oca/Content_Fetcher/Fetcher_Nopriv_Response
- Changed OCA/Fetcher/User/Data to Oca/Content_Fetcher/User_Data
- cacheExpiration parameter to ocaVars

### Changed
- default output option changed to echo
- better fetcher and nopriv_fetcher logic, more flexible and secure
- better frontend cache management
	- separated rules and better logic for priv and nopriv caches
	- ocaVars frontend_cache_priv variable changed to frontendCachePriv
	- ocaVars frontend_cache_nopriv variable changed to frontendCacheNopriv
- improved response from `is_user_logged_in`: now it's an array with `userStatus` ('priv' or 'nopriv') and arbitrary data (with a WP filter)
- new filter `'Oca/Fetcher/User/Data'` for arbitraty user data in ajax response from `is_user_logged_in` request
- Improved inline documentation
- minor tweaks

## 0.4.1

### Fixed
- privileges check

## 0.4.0

### Added
- Initial Front End Cache Management
- includes polyfill
- atomic script (for future use instead of jQuery Ajax)
- User privileges check, once for each front end page, on ocaInit

### Changed
- localstorage helperscript filename
- timeout default changed to 20000ms

## 0.3.0

### Added
- initial debug mode support
- initial LocalStorage Helper module support

### Fixed
- fetcher function behavior

### changed
- Roadmap on CHANGELOG.md

## 0.2.6

### Added
- improvement: you can bypass the front-end content injection by using 'bypass' as function_name or nopriv_function_name arguments for add_job method on Queue Manager
- improvement: you can set an javascript callback on frontend by setting a string to the callback argument add_job method on Queue Manager

## 0.2.5

### changed
- improvement: inline documentation
- Roadmap

### fixed
- changelog and plugin version number
- timeout on front-end AJAX
- timeout default

## 0.2.4

### Added
- loader message: enable, disable and customize message

## 0.2.3

### Fixed
- roadmap on changelog
- proper default for function_args and nopriv_function_args
- plugin version on several files

## 0.2.2

### Changed
- bumped version

### Fixed
- included changelog since 0.2.0 to git commit message

## 0.2.1

### Fixed
- small fixes to changelog

## 0.2.0

### Added
- first iteration of Queue Manager class
- first of front end fetcher
- first iteration of Content Fetcher class
- Changelog

### Changed
- version number

## 0.1.0
- Initial version